<!DOCTYPE html>
<html lang ="en">
    <head>
        <meta  charset= "utf-8">
        <title>Casino Chip Counter final</title>
    <script>
        var sChipcolor = new Array("Black", "Blue", "Red", "Green", "Gold");
        var nChipvalue = new array(5,20,50,100,500);
        var nReceipts, nChipsum, nWinnings;
        document.write("<h1 style="color: #0000FF; text-align: center;">
        Welcome to the Casino Chip Coumter</h1>");
        nReceipts = getReceipts();
        document.write("<h3>Total Receipts = $ " + nReceipts + "</h3><hr>");
        nChipsum = getChips(sChipcolor, nChipvalue);
        document.write("Total Value Chips = $ " + nChipsum + "</h3><hr>");
        nWinnings = nChipsum - nReceipts;
        displayresults(nChipsum, nWinnings);
        
        function getReceipts() {
           var nSum = 0;
           for ( var nI = 1; nI < 100; nI++) {
                 var nEntry = parseInt (window. prompt("Enter Receipts " + nI + " or Q to Quit", ""));
                 if (isNaN(nEntry))
                     break;
                 if (nEntry < 0) {
                     alert ("Receipts cannot be negative! \nTry again...");
                     continue;
                 }
                 document.write("Receipt " + nI + " = $" + nEntry + "<br />");
                 nSum += nEntry;
             }
             return nSum;
           }
          function getChips(sColor, nValue) {
              var nSum = 0;
              for ( var nI = 0; nI < sColor.length; nI++) {
                  var nEntry = parseInt(window.prompt("How many " + sColor[nI]+" chips?", "0"));
                  document.write(sColor[nI] + " Chips: Quantity = " + nEntry
                    + " and Value = $" + (nEntry * nValue[nI]) + "<br />");
                  nSum += nEntry * nValue[nI];
                }
                return nSum;
             }
          function displayresults(nValue, nWon) {
              var fTax = 0.0, sSSN;
              if(nWon < 0) {
                 document.write("<h2>Your Cash Out = $" + nValue + "</h2>");
                 document.write("Sorry you lost $ " + (-nWon) + ",but we like your money.");
              }
              else if(nWon == 0) {
                 document.write("<h2>Your Cash Out = $" + nValue + "</h2>");
                 document.write("You broke even. Please come back for more.");
              }
              if (nWon > 0) {
                  alert(" You are a Winner! US Federal Withholding Tax of 20%\n"
                     + " is applied on winnings if US Resident/Citizen\n"
                     + "Exemption : Residents of CNMI Withholding Tax of 10%");
                  if(confirm("Apply U.S. 20% Withholding Tax")) {
                     fTax = nWon * 0.20;
                     sSSN = prompt ("Enter your Social Security Number", "000-00-0000");
                     document.write("<h2>Your Cash Out = $" + (nValue - fTax) + "</h2>");
                     document.write("<h2>Tax withheld = $" + fTax + " for SSN = " + sSSN + "</h2>");
                  }
                  else if (confirm("Apply CNMI 10% withholding Tax")) {
                     fTax = nwon * 0.10;
                      sSSN = prompt ("Enter your Social Security Number", "000-00-0000");
                      document.write("<h2>Your Cash Out = $" + (nValue - fTax).toFixed(2) + "</h2>");
                      document.write("<h2>Tax Withheld = $" + fTax.toFixed(2) + " for SSN = " + sSSN + "</h2>");
                  }
                  else
                  {
                      document.write("<h2>Your Cash Out = $" + (nValue) + "</h2>");
                  }
                  document.write("<p>Congulatulations you won $" + nWon
                         + ". Please come back ! We want our money back.</p>");
                 }
              }
        </script>
    </head>
    <body style = "background-color: #000000; text-align: center;">
    </body>
</html>
                  
